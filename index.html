
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Criminal Law Flashcards</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
    font-family: -apple-system;
    margin: 0;
    background: #f4f4f4;
    color: #000;
    display: flex;
    flex-direction: column;
    align-items: center;
}
body.dark {
    background: #1e1e1e;
    color: #eee;
}
#container {
    max-width: 700px; width: 95%; margin-top: 20px;
}
.card {
    background: white;
    padding: 30px;
    border-radius: 12px;
    min-height: 200px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 22px;
    text-align: center;
}
body.dark .card {
    background: #333; color: #eee;
}
.toggle {
    width: 100%; padding: 10px; margin-top: 10px;
    background: #555; color: white; border-radius: 8px;
}
nav button {
    padding: 12px 20px; margin: 5px; border-radius: 8px;
}
.scoreBtn {
    padding: 12px 20px; margin: 5px; border-radius: 8px;
}
.correct { background: #2ecc71; color: white; }
.wrong { background: #e74c3c; color: white; }
</style>
</head>

<body>
<div id="container">

<h2>Criminal Law Flashcards (82 cards)</h2>

<button class="toggle" id="darkToggle">Toggle Dark Mode</button>
<button class="toggle" id="shuffleToggle">Shuffle Mode: OFF</button>
<button class="toggle" id="wrongOnlyToggle">Review Wrong Only: OFF</button>

<div class="card" id="card">Tap to flip</div>

<nav>
    <button id="prev">Prev</button>
    <button id="flip">Flip</button>
    <button id="next">Next</button>
</nav>

<div>
    <button class="scoreBtn correct" id="correctBtn">Got It Right</button>
    <button class="scoreBtn wrong" id="wrongBtn">Got It Wrong</button>
</div>

<div id="scoreDisplay">Score: 0 correct / 0 total</div>

</div>

<script>
const deck = [
  {front: "Elements of a Crime", back: ["Mens rea + actus reus + concurrence"]},
  {front: "Mens Rea Levels", back: ["Purpose", "Knowledge", "Recklessness", "Negligence"]},
  {front: "Purpose (CL/MPC)", back: ["Conscious objective to engage in conduct or cause result"]},
  {front: "Knowledge (CL/MPC)", back: ["Aware conduct will almost certainly cause result"]},
  {front: "Recklessness (CL/MPC)", back: ["Consciously disregards substantial and unjustifiable risk"]},
  {front: "Negligence (CL/MPC)", back: ["Should be aware of a substantial and unjustifiable risk"]},
  {front: "Strict Liability", back: ["No mens rea required", "Typically regulatory/public welfare offenses"]},
  {front: "Actus Reus", back: ["Voluntary act", "Not reflexive or convulsive", "Omission only if legal duty exists"]},
  {front: "Legal Duties", back: ["Statute", "Contract", "Status relationship", "Voluntary assumption of care", "Creation of risk"]},
  {front: "Causation", back: ["Actual (but-for) causation", "Proximate causation (foreseeability)"]},
  {front: "Transferred Intent", back: ["Intent follows the bullet"]},
  {front: "Concurrence", back: ["Mens rea must coincide with actus reus"]},
  {front: "Homicide (CL)", back: ["Murder", "Voluntary manslaughter", "Involuntary manslaughter"]},
  {front: "Murder (CL)", back: ["Malice aforethought: intent to kill, cause serious harm, extreme recklessness, felony murder"]},
  {front: "Malice Aforethought", back: ["Intent to kill", "Intent to cause serious bodily harm", "Extreme recklessness", "Felony murder"]},
  {front: "Felony Murder", back: ["Unintended killing during felony", "Strict liability", "Must be inherently dangerous felony"]},
  {front: "Felony Murder Limitations", back: ["Independent felony (merger doctrine)", "Foreseeability", "In furtherance of felony", "Co-felon rules"]},
  {front: "Voluntary Manslaughter (CL)", back: ["Heat of passion", "Adequate provocation", "No cooling period"]},
  {front: "Involuntary Manslaughter (CL)", back: ["Criminal negligence", "Misdemeanor-manslaughter rule"]},
  {front: "Extreme Emotional Disturbance (MPC)", back: ["Subjective test", "Reasonable explanation or excuse"]},
  {front: "Self-Defense", back: ["Honest + reasonable belief of imminent deadly force", "Proportional response", "No initial aggressor"]},
  {front: "Duty to Retreat?", back: ["Minority rule: retreat before deadly force", "Castle doctrine: no retreat at home"]},
  {front: "Defense of Others", back: ["Reasonable belief the 3rd person has right to self-defense"]},
  {front: "Defense of Property", back: ["No deadly force allowed"]},
  {front: "Necessity", back: ["Lesser of two evils", "Not used for homicide (CL)"]},
  {front: "Duress", back: ["Immediate threat", "Reasonable fear", "Not a defense to murder under CL"]},
  {front: "Insanity Tests", back: ["M'Naghten", "Irresistible Impulse", "Durham", "MPC Substantial Capacity"]},
  {front: "Attempt", back: ["Specific intent always required", "CL: dangerous proximity", "MPC: substantial step"]},
  {front: "Impossibility", back: ["Factual impossibility is NOT a defense", "Legal impossibility IS a defense"]},
  {front: "Solicitation", back: ["Intent to induce another to commit a felony"]},
  {front: "Conspiracy", back: ["Agreement + intent", "Overt act (CL varies)", "Pinkerton liability (CL)", "MPC rejects Pinkerton"]},
  {front: "Accomplice Liability", back: ["Aid or encourage with intent crime succeed", "Liable for foreseeable crimes (CL)"]},
  {front: "Battery", back: ["Unlawful offensive touching"]},
  {front: "Assault", back: ["Attempted battery OR putting someone in reasonable apprehension"]},
  {front: "Rape (CL)", back: ["Force + non-consent", "Resistance required at CL"]},
  {front: "Larceny", back: ["Trespassory taking", "Carrying away", "Property of another", "Intent to permanently deprive"]},
  {front: "Embezzlement", back: ["Lawful possession becomes unlawful conversion"]},
  {front: "False Pretenses", back: ["Obtains title by false statement", "Intent to defraud"]},
  {front: "Robbery", back: ["Larceny + force or intimidation"]},
  {front: "Burglary (CL)", back: ["Breaking and entering", "Dwelling of another", "At night", "Intent to commit felony inside"]},
  {front: "Arson (CL)", back: ["Malicious burning", "Dwelling of another"]},
  {front: "Kidnapping", back: ["Confinement or movement without consent"]},
  {front: "Attempt Mens Rea", back: ["Always specific intent even if completed crime is general intent"]},
  {front: "Withdrawal (CL)", back: ["Ends liability for future crimes, not past"]},
  {front: "Renunciation (MPC)", back: ["Complete and voluntary", "Thwarts the success of the crime"]},
  {front: "Mistake of Fact", back: ["May negate mens rea"]},
  {front: "Mistake of Law", back: ["Generally NOT a defense except official interpretation"]},
  {front: "Transferred Intent Crimes", back: ["Intent applies even if wrong victim is harmed"]},
  {front: "CL Murder Levels", back: ["1st degree premeditated", "2nd degree malice"]},
  {front: "MPC Mental States", back: ["Purpose", "Knowledge", "Recklessness", "Negligence"]}];
let originalDeck = [...deck];
let wrongCards = [];
let reviewWrongOnly = false;

let index = 0;
let showingFront = true;
let shuffleMode = false;

let correct = 0;
let total = 0;

function updateScore() {
    document.getElementById("scoreDisplay").innerText =
        "Score: " + correct + " correct / " + total + " total";
}

function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
        let j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}

function renderCard() {
    let c = deck[index];
    if (!c) {
        document.getElementById("card").innerHTML = "No cards.";
        return;
    }
    if (showingFront) {
        document.getElementById("card").innerHTML = c.front;
    } else {
        let items = "<ul>";
        for (let b of c.back) items += "<li>" + b + "</li>";
        items += "</ul>";
        document.getElementById("card").innerHTML = items;
    }
}

document.getElementById("flip").onclick = () => {
    showingFront = !showingFront; renderCard();
};
document.getElementById("next").onclick = () => {
    index = (index + 1) % deck.length; showingFront = true; renderCard();
};
document.getElementById("prev").onclick = () => {
    index = (index - 1 + deck.length) % deck.length; showingFront = true; renderCard();
};

document.getElementById("darkToggle").onclick = () => {
    document.body.classList.toggle("dark");
};

document.getElementById("shuffleToggle").onclick = () => {
    shuffleMode = !shuffleMode;

    if (shuffleMode) {
        document.getElementById("shuffleToggle").innerText = "Shuffle Mode: ON";
        shuffle(deck);
    } else {
        document.getElementById("shuffleToggle").innerText = "Shuffle Mode: OFF";
        deck = [...originalDeck];
    }
    index = 0; renderCard();
};

document.getElementById("wrongOnlyToggle").onclick = () => {
    reviewWrongOnly = !reviewWrongOnly;

    if (reviewWrongOnly) {
        deck = [...wrongCards];
        document.getElementById("wrongOnlyToggle").innerText = "Review Wrong Only: ON";
    } else {
        deck = [...originalDeck];
        document.getElementById("wrongOnlyToggle").innerText = "Review Wrong Only: OFF";
    }

    index = 0; renderCard();
};

document.getElementById("correctBtn").onclick = () => {
    correct++; total++; updateScore();
};
document.getElementById("wrongBtn").onclick = () => {
    wrongCards.push(deck[index]); total++; updateScore();
};

let startX=0, startY=0;
document.addEventListener("touchstart", e => {
    startX = e.changedTouches[0].screenX;
    startY = e.changedTouches[0].screenY;
});
document.addEventListener("touchend", e => {
    let dx = e.changedTouches[0].screenX - startX;
    let dy = e.changedTouches[0].screenY - startY;

    if (Math.abs(dx) > Math.abs(dy)) {
        if (dx > 40) document.getElementById("prev").click();
        if (dx < -40) document.getElementById("next").click();
    } else {
        if (dy < -40) document.getElementById("flip").click();
        if (dy > 40) document.getElementById("wrongOnlyToggle").click();
    }
});

renderCard();
updateScore();
</script>

</body>
</html>
